# Data Format

Complete guide to the YAML data format used by Map Locations.

## Table of Contents

- [Overview](#overview)
- [Required Fields](#required-fields)
- [Optional Fields](#optional-fields)
- [AI-Enhanced Fields](#ai-enhanced-fields)
- [Examples](#examples)
- [Validation Rules](#validation-rules)
- [Best Practices](#best-practices)

## Overview

Map Locations uses YAML format for storing location data. The file should contain a `locations` key with a list of location objects.

## Required Fields

### `name` (string)
The name of the location.

**Examples:**
- `"Eiffel Tower"`
- `"Central Park"`
- `"Galerie Vivienne"`

### `type` (string)
The category or type of location. This determines the color on the map.

**Common Types:**
- `"landmark"`
- `"restaurant"`
- `"cafe"`
- `"museum"`
- `"park"`
- `"passage"`
- `"hotel"`
- `"shop"`

### `latitude` (float)
Latitude coordinate in decimal degrees.

**Range:** -90 to 90

**Examples:**
- `48.8584` (Eiffel Tower)
- `40.7829` (Central Park)
- `48.8667` (Galerie Vivienne)

### `longitude` (float)
Longitude coordinate in decimal degrees.

**Range:** -180 to 180

**Examples:**
- `2.2945` (Eiffel Tower)
- `-73.9654` (Central Park)
- `2.3397` (Galerie Vivienne)

## Optional Fields

### `tags` (list of strings)
Tags for filtering and categorization.

**Examples:**
```yaml
tags: ["historic", "tourist", "architecture"]
tags: ["outdoor", "recreation", "nature"]
tags: ["food", "local", "authentic"]
```

### `neighborhood` (string)
The neighborhood or area where the location is situated.

**Examples:**
- `"7th arrondissement"`
- `"Upper East Side"`
- `"Downtown"`
- `"City Center"`

### `date_added` (string)
Date when the location was added to the collection.

**Format:** YYYY-MM-DD

**Examples:**
- `"2025-01-15"`
- `"2024-12-20"`

### `date_of_visit` (string)
Date when you visited the location.

**Format:** YYYY-MM-DD

**Examples:**
- `"2025-01-20"`
- `"2024-12-25"`

## AI-Enhanced Fields

These fields are added by AI processing and provide additional context and metadata.

### `description` (string)
AI-generated description of the location.

**Examples:**
- `"Iconic iron lattice tower overlooking Paris"`
- `"Historic covered passage with glass roof"`
- `"Popular cafe known for its pastries"`

### `source_text` (string)
The exact text from the input that was used to extract this location.

**Examples:**
- `"Eiffel Tower - must see landmark in Paris"`
- `"Passage du Grand Cerf - beautiful historic passage"`
- `"Le Comptoir du Relais - great cafe for breakfast"`

### `confidence` (float)
AI confidence score for the extraction accuracy.

**Range:** 0.1 to 0.9

**Examples:**
- `0.9` (high confidence)
- `0.7` (medium confidence)
- `0.3` (low confidence)

### `is_url` (boolean)
Whether the source of this location was a URL.

**Examples:**
- `true` (extracted from web page)
- `false` (extracted from text)

### `url` (string)
The source URL if the location was extracted from a web page.

**Examples:**
- `"https://www.toureiffel.paris/"`
- `"https://www.louvre.fr/"`
- `""` (empty if not from URL)

### `address` (string)
Full address of the location if available.

**Examples:**
- `"Champ de Mars, 5 Avenue Anatole France, 75007 Paris"`
- `"145 rue Saint-Denis, 75002 Paris"`
- `"Central Park, New York, NY 10024"`

### `extraction_method` (string)
How the location was extracted.

**Values:**
- `"llm"` (extracted by AI language model)
- `"manual"` (manually added)
- `"url"` (extracted from URL)

### `google_maps_url` (string)
Automatically generated Google Maps URL for the location.

**Examples:**
- `"https://www.google.com/maps/search/?api=1&query=Eiffel+Tower,+Paris"`
- `"https://www.google.com/maps/search/?api=1&query=Central+Park,+New+York"`
- `"https://www.google.com/maps/search/?api=1&query=Galerie+Vivienne,+Paris"`

**Note:** This field is automatically generated by the system and provides a direct link to Google Maps for the location.

## Examples

### Basic Location

```yaml
locations:
  - name: "Eiffel Tower"
    type: "landmark"
    latitude: 48.8584
    longitude: 2.2945
```

### Complete Location

```yaml
locations:
  - name: "Galerie Vivienne"
    type: "passage"
    latitude: 48.8667
    longitude: 2.3397
    tags: ["historic", "architecture", "glass roof"]
    neighborhood: "2nd arrondissement"
    date_added: "2025-01-15"
    date_of_visit: "2025-01-20"
```

### AI-Enhanced Location

```yaml
locations:
  - name: "Eiffel Tower"
    type: "landmark"
    latitude: 48.8584
    longitude: 2.2945
    tags: ["historic", "tourist", "architecture"]
    neighborhood: "7th arrondissement"
    date_added: "2025-01-15"
    date_of_visit: "2025-01-20"
    description: "Iconic iron lattice tower overlooking Paris"
    source_text: "Eiffel Tower - must see landmark in Paris"
    confidence: 0.9
    is_url: false
    url: ""
    address: "Champ de Mars, 5 Avenue Anatole France, 75007 Paris"
    extraction_method: "llm"
    google_maps_url: "https://www.google.com/maps/search/?api=1&query=Eiffel+Tower,+Paris"
```

### Multiple Locations

```yaml
locations:
  - name: "Central Park"
    type: "park"
    latitude: 40.7829
    longitude: -73.9654
    tags: ["outdoor", "recreation", "nature"]
    neighborhood: "Upper East Side"
    date_added: "2025-01-10"
    date_of_visit: "2025-01-25"
    description: "Large urban park in Manhattan"
    source_text: "Central Park - great for walking and recreation"
    confidence: 0.8
    is_url: false
    url: ""
    address: "Central Park, New York, NY 10024"
    extraction_method: "llm"
    google_maps_url: "https://www.google.com/maps/search/?api=1&query=Central+Park,+New+York"

  - name: "Times Square"
    type: "landmark"
    latitude: 40.758
    longitude: -73.9855
    tags: ["tourist", "entertainment", "shopping"]
    neighborhood: "Midtown"
    date_added: "2025-01-10"
    date_of_visit: "2025-01-26"
    description: "Famous intersection and entertainment hub"
    source_text: "Times Square - bright lights and entertainment"
    confidence: 0.85
    is_url: false
    url: ""
    address: "Times Square, New York, NY 10036"
    extraction_method: "llm"
    google_maps_url: "https://www.google.com/maps/search/?api=1&query=Times+Square,+New+York"

  - name: "Brooklyn Bridge"
    type: "bridge"
    latitude: 40.7061
    longitude: -73.9969
    tags: ["landmark", "architecture", "views"]
    neighborhood: "Brooklyn"
    date_added: "2025-01-10"
    date_of_visit: "2025-01-27"
    description: "Historic suspension bridge connecting Manhattan and Brooklyn"
    source_text: "Brooklyn Bridge - iconic bridge with great views"
    confidence: 0.9
    is_url: false
    url: ""
    address: "Brooklyn Bridge, New York, NY"
    extraction_method: "llm"
    google_maps_url: "https://www.google.com/maps/search/?api=1&query=Brooklyn+Bridge,+New+York"
```

## Validation Rules

### Coordinate Validation

- **Latitude**: Must be between -90 and 90
- **Longitude**: Must be between -180 and 180
- **Format**: Decimal degrees (not degrees/minutes/seconds)

### Date Validation

- **Format**: YYYY-MM-DD
- **Examples**: `"2025-01-15"`, `"2024-12-20"`
- **Invalid**: `"15/01/2025"`, `"2025-1-15"`

### Name Validation

- **Required**: Cannot be empty
- **Unique**: Should be unique within the dataset
- **Length**: Reasonable length (1-100 characters)

### Type Validation

- **Required**: Cannot be empty
- **Case**: Case-sensitive
- **Examples**: `"landmark"`, `"restaurant"`, `"museum"`

### AI Field Validation

- **Confidence**: Must be between 0.1 and 0.9
- **is_url**: Must be boolean (true/false)
- **extraction_method**: Must be one of: "llm", "manual", "url"
- **URL format**: Must be valid URL format if provided
- **google_maps_url**: Must be valid Google Maps URL format if provided

## Best Practices

### 1. Use Descriptive Names

```yaml
# Good
- name: "Eiffel Tower"
- name: "Central Park"

# Avoid
- name: "Tower"
- name: "Park"
```

### 2. Use Consistent Types

```yaml
# Good - consistent naming
- type: "restaurant"
- type: "cafe"
- type: "bar"

# Avoid - inconsistent
- type: "restaurant"
- type: "Restaurant"
- type: "RESTAURANT"
```

### 3. Use Meaningful Tags

```yaml
# Good - specific and useful
tags: ["historic", "architecture", "glass roof"]
tags: ["outdoor", "recreation", "nature"]

# Avoid - too generic
tags: ["place"]
tags: ["thing"]
```

### 4. Use Proper Date Format

```yaml
# Good
date_added: "2025-01-15"
date_of_visit: "2025-01-20"

# Avoid
date_added: "15/01/2025"
date_of_visit: "2025-1-20"
```

### 5. Use Consistent Neighborhood Names

```yaml
# Good - consistent naming
neighborhood: "Upper East Side"
neighborhood: "Midtown"

# Avoid - inconsistent
neighborhood: "Upper East Side"
neighborhood: "upper east side"
neighborhood: "UES"
```

### 6. Group Related Locations

```yaml
# Good - logical grouping
locations:
  # Paris landmarks
  - name: "Eiffel Tower"
    type: "landmark"
    latitude: 48.8584
    longitude: 2.2945

  - name: "Arc de Triomphe"
    type: "landmark"
    latitude: 48.8738
    longitude: 2.2950

  # Paris restaurants
  - name: "Le Comptoir du Relais"
    type: "restaurant"
    latitude: 48.8667
    longitude: 2.3397
```

### 7. AI-Enhanced Data Best Practices

```yaml
# Good - complete AI data
- name: "Louvre Museum"
  type: "museum"
  latitude: 48.8606
  longitude: 2.3376
  description: "World's largest art museum"
  source_text: "Louvre Museum - amazing art collection"
  confidence: 0.95
  is_url: false
  url: ""
  address: "Rue de Rivoli, 75001 Paris"
  extraction_method: "llm"
  google_maps_url: "https://www.google.com/maps/search/?api=1&query=Louvre+Museum,+Paris"

# Good - manual data
- name: "Personal Favorite Cafe"
  type: "cafe"
  latitude: 48.8667
  longitude: 2.3397
  description: "My favorite spot for coffee"
  source_text: "Personal recommendation"
  confidence: 1.0
  is_url: false
  url: ""
  address: ""
  extraction_method: "manual"
  google_maps_url: "https://www.google.com/maps/search/?api=1&query=Personal+Favorite+Cafe,+Paris"
```

## Common Issues

### 1. Missing Required Fields

```yaml
# ❌ Missing required fields
locations:
  - name: "Eiffel Tower"
    # Missing: type, latitude, longitude

# ✅ Complete location
locations:
  - name: "Eiffel Tower"
    type: "landmark"
    latitude: 48.8584
    longitude: 2.2945
```

### 2. Invalid Coordinates

```yaml
# ❌ Invalid coordinates
locations:
  - name: "Invalid Place"
    type: "landmark"
    latitude: 91.0  # Should be -90 to 90
    longitude: 181.0  # Should be -180 to 180

# ✅ Valid coordinates
locations:
  - name: "Valid Place"
    type: "landmark"
    latitude: 48.8584
    longitude: 2.2945
```

### 3. Invalid Date Format

```yaml
# ❌ Invalid date format
locations:
  - name: "Old Place"
    type: "landmark"
    latitude: 48.8584
    longitude: 2.2945
    date_added: "15/01/2025"  # Should be YYYY-MM-DD

# ✅ Valid date format
locations:
  - name: "New Place"
    type: "landmark"
    latitude: 48.8584
    longitude: 2.2945
    date_added: "2025-01-15"
```

### 4. Duplicate Names

```yaml
# ❌ Duplicate names
locations:
  - name: "Eiffel Tower"
    type: "landmark"
    latitude: 48.8584
    longitude: 2.2945

  - name: "Eiffel Tower"  # Duplicate name
    type: "landmark"
    latitude: 48.8584
    longitude: 2.2945

# ✅ Unique names
locations:
  - name: "Eiffel Tower"
    type: "landmark"
    latitude: 48.8584
    longitude: 2.2945

  - name: "Arc de Triomphe"  # Different name
    type: "landmark"
    latitude: 48.8738
    longitude: 2.2950
```

### 5. Invalid AI Fields

```yaml
# ❌ Invalid AI fields
locations:
  - name: "Test Location"
    type: "landmark"
    latitude: 48.8584
    longitude: 2.2945
    confidence: 1.5  # Should be 0.1-0.9
    extraction_method: "invalid"  # Should be llm/manual/url

# ✅ Valid AI fields
locations:
  - name: "Test Location"
    type: "landmark"
    latitude: 48.8584
    longitude: 2.2945
    confidence: 0.8
    extraction_method: "llm"
```

## File Structure

### Complete Example File

```yaml
# my_locations.yaml
locations:
  - name: "Eiffel Tower"
    type: "landmark"
    latitude: 48.8584
    longitude: 2.2945
    tags: ["historic", "tourist", "architecture"]
    neighborhood: "7th arrondissement"
    date_added: "2025-01-15"
    date_of_visit: "2025-01-20"
    description: "Iconic iron lattice tower overlooking Paris"
    source_text: "Eiffel Tower - must see landmark in Paris"
    confidence: 0.9
    is_url: false
    url: ""
    address: "Champ de Mars, 5 Avenue Anatole France, 75007 Paris"
    extraction_method: "llm"
    google_maps_url: "https://www.google.com/maps/search/?api=1&query=Eiffel+Tower,+Paris"

  - name: "Louvre Museum"
    type: "museum"
    latitude: 48.8606
    longitude: 2.3376
    tags: ["art", "historic", "culture"]
    neighborhood: "1st arrondissement"
    date_added: "2025-01-15"
    date_of_visit: "2025-01-21"
    description: "World's largest art museum"
    source_text: "Louvre Museum - amazing art collection"
    confidence: 0.95
    is_url: false
    url: ""
    address: "Rue de Rivoli, 75001 Paris"
    extraction_method: "llm"
    google_maps_url: "https://www.google.com/maps/search/?api=1&query=Louvre+Museum,+Paris"

  - name: "Le Comptoir du Relais"
    type: "restaurant"
    latitude: 48.8667
    longitude: 2.3397
    tags: ["food", "local", "authentic"]
    neighborhood: "6th arrondissement"
    date_added: "2025-01-15"
    date_of_visit: "2025-01-22"
    description: "Popular bistro known for traditional French cuisine"
    source_text: "Le Comptoir du Relais - great French restaurant"
    confidence: 0.85
    is_url: false
    url: ""
    address: "9 Carrefour de l'Odéon, 75006 Paris"
    extraction_method: "llm"
    google_maps_url: "https://www.google.com/maps/search/?api=1&query=Le+Comptoir+du+Relais,+Paris"
```
